10 REM THIS IS A TEST OF TRSNIC CONNECTING TO AN INTERNET TIME SERVICE15 REM OPEN A TCP/IP SOCKET20 OUT 236,16  	:REM ENABLE MODEL III BUS30 OUT 31,1		:REM SOCKET COMMAND40 OUT 31,1		:REM USE IPV450 OUT 31,1		:REM USE TCP60 Y=INP(31)	:REM GET THE STATUS70 IF Y <> 0 THEN PRINT "ERROR OPENING SOCKET": GOTO 50080 SOCKFD=INP(31)	:REM STORE THE SOCKET FILE DESCRIPTOR90 PRINT "THE SOCKET IS OPEN "100 REM CONNECT TO THE SERVER110 OUT 31,2	:REM CONNECT COMMAND115 OUT 31,SOCKFD120 FOR T = 0 TO 5:READ X:OUT 31,X:NEXT T130 Y = INP(31)140 IF Y <> 0 THEN PRINT "ERROR CONNECTING TO NIST SERVER": GOTO 500150 PRINT "YOU ARE CONNECTED TO NIST SERVER"180 I = 0190 PRINT "RECEIVING DATA FROM NIST..."200 REM RECEIVE THE DATA210	GOSUB 3000220 Y = INP(31)230 IF Y <> 0 THEN PRINT "ERROR RECEIVING": GOTO 500240 L1 = INP(31):L2 = INP(31):L3 = INP(31):L4 = INP(31)250 L = (L3 * 256) + L4260 FOR T = 1 TO L: Y=INP(31): PRINT CHR$(Y);:NEXT T270 I = I + L 280 IF I >= 48 THEN GOTO 300290 GOTO 200300 PRINT 310 PRINT "...DONE RECEIVING DATA FROM NIST"500 REM CLOSE510 OUT 31,7520 OUT 31,SOCKFD530 Y = INP(31)540 IF Y = 0 THEN PRINT "THE SOCKET IS CLOSED" ELSE PRINT "ERROR ON CLOSE"550 END1000 REM NIST DAYTIME SERVICE IP ADDRESS AND PORT1010 DATA 129,6,15,28,0,133000 REM RECV SUBROUTINE3010 OUT 31,53020 OUT 31,SOCKFD3025 OUT 31,1	:NON_BLOCKING3030 OUT 31,0:OUT 31,0:OUT 31,0:OUT 31,20		:DATA LENGTH REQUESTED3040 RETURN